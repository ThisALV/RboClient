#:kivy 2.0.0

<HomeCtxActions>:
    anchor_x: "left"
    button: button
    padding: [2, 0]
    RboBtn:
        id: button
        size_hint: (None, None)
        size: tbarButtonSize
        font_name: "DejaVuSans"
        font_size: 20
        text: "\u2699"

<HomeInputRow>:
    orientation: "horizontal"
    size_hint: (1, None)
    height: 40

<HostInput>:
    address: address.text
    port: port.text
    HomeInput:
        id: address
        hint_text: "Adresse"
    Label:
        text: ":"
        size_hint: (None, 1)
        width: 10
        padding_y: 15
        font_size: 30
        valign: "center"
        color: [.7, .7, .7, 1]
    NumericHomeInput:
        id: port
        hint_text: "Port"
        digits: 5
        max: 65535
        size_hint: (.4, 1)

<HomeOption>:
    orientation: "horizontal"
    size_hint: (1, None)
    height: 30
    padding_y: 20
    enabled: checkbox.active
    CheckBox:
        id: checkbox
        size_hint: (.1, 1)
        color: [1, .5, 0, 1]
    Label:
        text: root.label
        color: [.8, .8, .8, 1]
        haligh: "left"
        valign: "center"
        font_size: 20
        text_size: (self.width, self.height)
        size: self.texture_size

<PlayerInput>:
    playerID: playerID.text
    name: name.text
    spacing: 10
    NumericHomeInput:
        id: playerID
        size_hint: (.25, 1)
        hint_text: "ID"
        digits: 3
        max: 255
    HomeInput:
        id: name
        hint_text: "Nom du joueur"

<HomeInput>:
    multiline: False
    font_size: self.height - 15
    write_tab: False

<Separator@AnchorLayout>:
    anchor_x: "center"
    anchor_y: "center"
    size_hint: (1, None)
    height: 30
    FloatLayout:
        size_hint: (1, None)
        height: 4
        canvas.before:
            Color:
                rgb: .8, .8, .8, 1
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [4,]

<Home>:
    anchor_x: "center"
    anchor_y: "center"
    form: form
    hostInput: form.host
    playerInput: form.player
    canvas.before:
        Color:
            rgb: .05, .05, .05
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        id: form
        orientation: "vertical"
        size_hint: (None, None)
        size: (375, 420)
        padding: (30, 40)
        spacing: 10
        host: host
        player: player
        canvas.before:
            Color:
                rgb: tbarColor
            RoundedRectangle:
                pos: self.pos
                size: self.size
        HostInput:
            id: host
        HomeOption:
            id: option
            label: "Hôte local ?"
            input: root.hostInput
            field: "address"
            fill: "localhost"
        Separator:
        PlayerInput:
            id: player
        HomeOption:
            id: master
            label: "Maître de la room ?"
            input: root.playerInput
            field: "playerID"
            fill: "0"
        Separator:
        RboBtn:
            size_hint: (1, None)
            height: 50
            text: "Connexion"
            font_size: 25
            on_release: root.login()
